<link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />

<style>
  .video-container {
    width: 100%;
    max-width: 854px; 
    margin: 20px auto;
    background-color: #000;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
  }

  /* কাস্টম এনিমেশন (সব সময় কাজ করবে) */
  #custom-loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50px;
    height: 50px;
    border: 5px solid #333;
    border-top: 5px solid #ff0000; /* YouTube Red */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 10;
    display: block; /* শুরুতে দেখাবে */
  }

  @keyframes spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }

  /* ভিডিওর ডিফল্ট স্পিনার বন্ধ রাখা হয়েছে কাস্টমটা দেখানোর জন্য */
  .vjs-loading-spinner { display: none !important; }

  /* বড় প্লে বাটন ডিজাইন */
  .vjs-big-play-button {
    background-color: rgba(255, 0, 0, 0.8) !important;
    border: none !important;
    border-radius: 50% !important;
    width: 2.5em !important;
    height: 2.5em !important;
    line-height: 2.5em !important;
    z-index: 11;
  }
</style>

<div class="video-container">
  <div id="custom-loader"></div>

  <video
    id="live-player"
    class="video-js vjs-default-skin vjs-16-9 vjs-big-play-centered"
    controls
    preload="auto"
    width="100%">
    <source src="https://edge2.roarzone.info:8447/roarzone/edge2/star-sports-1/index.m3u8?token=19d60a66bbfd53405018e37a6d33700172884ce1-6f750abeed522a0bf8a490222f4b52ec-1772028079-1772024479" type="application/x-mpegURL">
  </video>
</div>

<script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>

<script>
  var player = videojs('live-player', {
    controlBar: {
      children: [
        'playToggle',
        'volumePanel',
        'currentTimeDisplay',
        'timeDivider',
        'durationDisplay',
        'progressControl',
        'liveDisplay',
        'fullscreenToggle',
      ]
    }
  });

  var loader = document.getElementById('custom-loader');

  // যখন ভিডিও প্লে শুরু হবে, তখন এনিমেশন বন্ধ হবে
  player.on('playing', function() {
    loader.style.display = 'none';
  });

  // যদি ভিডিও বাফার করে বা লোড হতে দেরি হয়, আবার এনিমেশন আসবে
  player.on('waiting', function() {
    loader.style.display = 'block';
  });

  // ভিডিওর শুরুতে বা লোড হওয়ার সময় এনিমেশন দেখাবে
  player.on('loadstart', function() {
    loader.style.display = 'block';
  });
</script>
