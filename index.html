<meta name="referrer" content="no-referrer">
<link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />

<style>
  .video-container {
    width: 100%;
    max-width: 854px; 
    margin: 20px auto;
    background-color: #000;
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  /* প্রফেশনাল থ্রি ডট পালস এনিমেশন */
  .dot-loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 20;
    pointer-events: none;
  }

  .dot-loader div {
    width: 18px;
    height: 18px;
    margin: 0 6px;
    background-color: #ff0000;
    border-radius: 50%;
    animation: pulse 1.4s infinite ease-in-out both;
  }

  .dot-loader .dot1 { animation-delay: -0.32s; }
  .dot-loader .dot2 { animation-delay: -0.16s; }

  @keyframes pulse {
    0%, 80%, 100% { transform: scale(0); }
    40% { transform: scale(1.0); }
  }

  /* ইউটিউব স্টাইল প্লে বাটন */
  .vjs-big-play-button {
    background-color: rgba(255, 0, 0, 0.9) !important;
    border: none !important;
    border-radius: 50% !important;
    width: 2.5em !important;
    height: 2.5em !important;
    line-height: 2.5em !important;
    z-index: 25 !important;
  }

  /* রিফ্রেশ বাটন ডিজাইন */
  .refresh-btn {
    display: block;
    width: 120px;
    margin: 10px auto;
    padding: 8px;
    background: #ff0000;
    color: #fff;
    text-align: center;
    border-radius: 5px;
    cursor: pointer;
    font-family: sans-serif;
    font-weight: bold;
    text-decoration: none;
  }

  .vjs-loading-spinner { display: none !important; }
</style>

<div class="video-container">
  <div id="custom-loader" class="dot-loader">
    <div class="dot1"></div>
    <div class="dot2"></div>
    <div class="dot3"></div>
  </div>

  <video id="pro-player" class="video-js vjs-16-9 vjs-big-play-centered" controls preload="auto" width="100%">
    <source src="https://edge2.roarzone.info:8447/roarzone/edge2/star-sports-1/index.m3u8?token=f3e4f38e544758445b2f012a6257a9fe264b0fe6-2fac89ad6623a9ea6a6f7697201454b4-1772034409-1772030809" type="application/x-mpegURL">
  </video>
</div>

<div class="refresh-btn" onclick="location.reload();">Refresh Player</div>

<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>

<script>
  var player = videojs('pro-player', {
    html5: { vhs: { overrideNative: true } }, // লোড স্পিড বাড়ানোর জন্য
    controlBar: {
      children: ['playToggle', 'volumePanel', 'progressControl', 'liveDisplay', 'fullscreenToggle']
    }
  });

  var loader = document.getElementById('custom-loader');

  // লোডার কন্ট্রোল লজিক (যাতে ভিডিও না আসা পর্যন্ত না যায়)
  player.on('loadstart', function() { loader.style.display = 'flex'; });
  
  // ভিডিওর প্রথম ফ্রেম না আসা পর্যন্ত লোডার দেখাবে
  player.on('loadeddata', function() { 
     // এই ইভেন্টটি নিশ্চিত করে যে ভিডিওর ডেটা এসেছে
  });

  player.on('playing', function() {
    loader.style.display = 'none'; // ছবি দেখা গেলে লোডার উধাও
  });

  player.on('waiting', function() {
    loader.style.display = 'flex'; // ইন্টারনেট স্লো হলে আবার আসবে
  });

  // এরর হলে মেসেজ দেখাবে
  player.on('error', function() {
    loader.style.display = 'none';
    alert("Server error! Please click 'Refresh' button.");
  });
</script>
